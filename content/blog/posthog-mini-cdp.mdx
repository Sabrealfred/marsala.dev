---
title: "Turn PostHog into a Mini CDP"
slug: "posthog-mini-cdp"
type: "Tutorial"
summary: "I use PostHog, Kafka and Resend to activate audiences without a six-figure CDP."
description: "Tutorial for structuring events, streaming into Kafka and activating channels directly from PostHog."
date: "2025-01-20"
readingTime: "9 min read"
author: "Marina Álvarez"
tags:
  - "Analytics"
  - "Growth"
  - "Automation"
keywords:
  - "posthog"
  - "cdp"
  - "activation"
  - "kafka"
  - "resend"
featured: false
image: "/blog/posthog-cdp.jpg"
---


# Turn PostHog into a Mini CDP

> I hacked PostHog until it behaved like a mini CDP and saved us $60k a year.

## Context

We needed audiencies that update in real time without enterprise pricing. PostHog plus microservices delivered.

## Stack I leaned on

- PostHog Cloud with custom properties
- Kafka + Cloud Run consumers
- Firestore for rapid segmentation
- Resend + Meta Marketing API for activation

## Playbook

1. Defined a tracking plan with 12 canonical events and owners.
2. Activated the Kafka destination and built a consumer that validates payloads.
3. Synced CRM attributes through the API to enrich profiles.
4. Created microservices to generate audiences and trigger nurtures.
5. Automated QA scripts that simulate cohorts weekly.

## Metrics & telemetry

- Contextual email CTR: +46%
- Paid CAC by excluding active users: -28%
- Feature adoption on flagged cohorts: +19%

## What stuck with me

- Without governance PostHog becomes a junk drawer.
- Tokenize PII before sending it anywhere; privacy isn't optional.

## What I'm building next

I'll open-source part of the pipeline. Want the repo link when it's ready? let me know.

---

Want me to help you replicate this module? [Drop me a note](/contact) and we’ll build it together.
